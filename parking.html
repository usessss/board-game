<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>봉우리 출첵</title>

  <link rel="icon" type="image/png" href="./images/Screenshot_20251118_085515_KakaoTalk-Photoroom.png">

  <link rel="stylesheet" href="./styles/index.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&family=Oswald:wght@200..700&family=Smooch+Sans:wght@100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Stack+Sans+Notch:wght@200..700&display=swap" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/locales-all.global.min.js"></script>
</head>

<body>
    <!-- 헤더 -->
    <header>
      <div>
        <a href="/board-game/index.html">
          <!-- <a href="./index.html"> -->
          <img src="./images/Screenshot_20251118_085515_KakaoTalk-Photoroom.png" alt="봉우리 로고">
        </a>
      </div>
    </header>

    <!-- 메뉴 토글 버튼 -->
    <button class="menu-toggle" aria-label="메뉴 열기">🍔</button>

    <!-- 사이드 메뉴 -->
    <nav class="side-menu" aria-hidden="true">
      <div class="side-menu__header">
        <button class="side-menu__close" aria-label="메뉴 닫기">❌</button>
      </div>
      
      <div class="side-menu__body">
        <ul>
          <li>
            <!-- <a href="/board-game/see.html"> -->
              <a href="./see.html">
              👀 월별로 출석체크 한눈에 보기
            </a>
          </li>
          <li>
            <!-- <a href="/board-game/money.html"> -->
              <a href="./money.html">
              💸 일참비/월정액 입금하기
            </a>
          </li>
          <li>
            <!-- <a href="/board-game/place.html"> -->
            <a href="./place.html">
              🎯 봉우리 아지트 위치보기
            </a>
          </li>
          <li>
            <!-- <a href="/board-game/parking.html"> -->
            <a href="./parking.html">
              🚘 주차 가능한 곳 보기
            </a>
          </li>
        </ul>

        <button id="attendance-btn" class="btn">
          출석 체크
        </button>
      </div>
    </nav>
    <div class="side-overlay" tabindex="-1"></div>

    <section class="map-section">
      <h5>📍 봉우리 아지트 위치</h5>

      <div id="map"></div>

      <div class="address-box">
        <span id="address-text">
          경기도 화성시 봉담읍 동화리 600-1<br />
          스타타워1 302호
        </span>
        <button id="copy-address-btn">주소 복사</button>
      </div>
    </section>

    <script>
      // 사이드메뉴 토글 
      (function(){
        var $menuToggle = $('.menu-toggle');
        var $side = $('.side-menu');
        var $overlay = $('.side-overlay');

        function openMenu(){
          $side.addClass('open').attr('aria-hidden','false');
          $overlay.addClass('show');
        }
        function closeMenu(){
          $side.removeClass('open').attr('aria-hidden','true');
          $overlay.removeClass('show');
        }

        $menuToggle.on('click', openMenu);
        $('.side-menu__close, .side-overlay').on('click', closeMenu);
      })();

      
      /* ---------------------------
          1. 카카오맵 스크립트 로드
      ---------------------------- */
      function loadKakaoScript() {
          var script = document.createElement('script');
          script.src = "https://dapi.kakao.com/v2/maps/sdk.js?appkey=23dbc639690beb853105f72b98c93a4a&autoload=false";
          script.onload = function() {
              kakao.maps.load(initMap);
          };
          document.head.appendChild(script);
      }

      /* ---------------------------
          2. 정확한 지도 그리기
      ---------------------------- */
      function initMap() {
          var mapContainer = document.getElementById('map');

          // ⭐ 여기에 정확 좌표 넣음
          var position = new kakao.maps.LatLng(37.2171063939256, 126.960080086911);

          var mapOption = {
              center: position,
              level: 3
          };

          var map = new kakao.maps.Map(mapContainer, mapOption);

          var marker = new kakao.maps.Marker({
              position: position
          });

          marker.setMap(map);
      }

      /* ---------------------------
          3. 주소 복사 기능 
      ---------------------------- */
      document.addEventListener("DOMContentLoaded", function () {
          document.getElementById("copy-address-btn").addEventListener("click", function () {
              const text = document.getElementById("address-text").textContent;

              navigator.clipboard.writeText(text)
                  .then(() => alert("📌 주소가 복사되었습니다!"))
                  .catch(() => alert("❌ 복사가 지원되지 않는 환경입니다.\nHTTPS 환경에서 실행해주세요."));
          });
      });

      // ⭐ 실행
      loadKakaoScript();
    </script>

    <script 
        src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=23dbc639690beb853105f72b98c93a4a&autoload=false"
        onload="kakao.maps.load(initMap)">
    </script>
</body>
</html>