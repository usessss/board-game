<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>봉우리 출첵</title>

  <link rel="icon" type="image/png" href="./images/Screenshot_20251118_085515_KakaoTalk-Photoroom.png">

  <link rel="stylesheet" href="./styles/index.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&family=Oswald:wght@200..700&family=Smooch+Sans:wght@100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Stack+Sans+Notch:wght@200..700&display=swap" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/locales-all.global.min.js"></script>
</head>

<body>
    <!-- 헤더 -->
    <header>
      <div>
        <!-- <a href="/board-game/index.html"> -->
          <a href="./index.html">
          <img src="./images/Screenshot_20251118_085515_KakaoTalk-Photoroom.png" alt="봉우리 로고">
        </a>
      </div>
    </header>

    <!-- 메뉴 토글 버튼 -->
    <button class="menu-toggle" aria-label="메뉴 열기">🍔</button>

    <!-- 사이드 메뉴 -->
    <nav class="side-menu" aria-hidden="true">
      <div class="side-menu__header">
        <button class="side-menu__close" aria-label="메뉴 닫기">❌</button>
      </div>
      
      <div class="side-menu__body">
        <ul>
          <li>
            <!-- <a href="/board-game/see.html"> -->
              <a href="./see.html">
              👀 월별로 출석체크 한눈에 보기
            </a>
          </li>
          <li>
            <!-- <a href="/board-game/money.html"> -->
              <a href="./money.html">
              💸 일참비/월정액 입금하기
            </a>
          </li>
          <li>
            <!-- <a href="/board-game/place.html"> -->
            <a href="./place.html">
              🎯 봉우리 아지트 위치보기
            </a>
          </li>
          <li>
            <!-- <a href="/board-game/parking.html"> -->
            <a href="./parking.html">
              🚘 주차 가능한 곳 보기
            </a>
          </li>
        </ul>

        <button id="attendance-btn" class="btn">
          출석 체크
        </button>
      </div>
    </nav>
    <div class="side-overlay" tabindex="-1"></div>

    <!-- 지도 -->
    <section class="map-section">
      <h5 style="color: rgb(250, 114, 35);">
        🚘 주차 가능한 곳 한눈에 보기
      </h5>
      <div id="map"></div>

      <!-- 주소 리스트 -->
      <div class="address-list">
        <div class="address-box background-color-1">
          <div style="display: flex; flex-direction: column;">
            <div>
              <strong>봉담 스타타워1 상가주차장</strong>
            </div>
            <div>
              <span class="address-text">경기 화성시 봉담읍 동화리 600-1</span>
            </div>
          </div>
          
          <button class="copy-btn">주소 복사</button>
        </div>

        <div class="address-box background-color-2">
          <div style="display: flex; flex-direction: column;">
            <div>
              <strong>스타타워2 상가주차장</strong>
            </div>
            <div>
              <span class="address-text">경기 화성시 봉담읍 동화새터길 98</span>
            </div>
          </div>
          
          <button class="copy-btn">주소 복사</button>
        </div>

        <div class="address-box background-color-3">
          <div style="display: flex; flex-direction: column;">
            <div>
              <strong>스타타워3 상가주차장</strong>
            </div>
            <div>
              <span class="address-text">경기 화성시 봉담읍 동화새터길 96</span>
            </div>
          </div>
          
          <button class="copy-btn">주소 복사</button>
        </div>

        <div class="address-box background-color-4">
          <div style="display: flex; flex-direction: column;">
            <div>
              <strong>동화 마을 휴먼시아 2단지</strong>
            </div>
            <div>
              <span class="address-text">경기 화성시 봉담읍 동화새터길 89</span>
            </div>
          </div>

          <button class="copy-btn">주소 복사</button>
        </div>

        <div class="address-box background-color-5">
          <div style="display: flex; flex-direction: column;">
            <div>
              <strong>홍익돈까스 뒷편</strong>
            </div>
            <div>
              <span class="address-text">경기 화성시 봉담읍 새말길 1 1층</span>
            </div>
          </div>
          
          <button class="copy-btn">주소 복사</button>
        </div>

        <div class="address-box background-color-6">
          <div style="display: flex; flex-direction: column;">
            <div>
              <strong>동화 마을 휴먼시아 4단지</strong>
            </div>
            <div>
              <span class="address-text">경기 화성시 봉담읍 동화새터길 118</span>
            </div>
          </div>
          
          <button class="copy-btn">주소 복사</button>
        </div>
      </div>
    </section>

    <script>
      /* 사이드메뉴 토글 */
      (function(){
        var $menuToggle = $('.menu-toggle');
        var $side = $('.side-menu');
        var $overlay = $('.side-overlay');

        function openMenu(){
          $side.addClass('open').attr('aria-hidden','false');
          $overlay.addClass('show');
        }
        function closeMenu(){
          $side.removeClass('open').attr('aria-hidden','true');
          $overlay.removeClass('show');
        }

        $menuToggle.on('click', openMenu);
        $('.side-menu__close, .side-overlay').on('click', closeMenu);
      })();

      /* ---------------------------
          1. 카카오맵 스크립트 로드
      ---------------------------- */
      function loadKakaoScript() {
          const script = document.createElement('script');
          script.src = "https://dapi.kakao.com/v2/maps/sdk.js?appkey=23dbc639690beb853105f72b98c93a4a&autoload=false";
          script.onload = () => kakao.maps.load(initMap);
          document.head.appendChild(script);
      }

      /* ---------------------------
          2. 지도 + 마커 5개 표시
      ---------------------------- */
      function initMap() {
          const positions = [
              { title: "봉담 스타타워1", lat: 37.21710, lng: 126.96008, color: "#ff4d4d" },
              { title: "봉담 스타타워2", lat: 37.2173326148628, lng: 126.959717858271, color: "#ff8c2f" },
              { title: "봉담 스타타워3", lat: 37.2175053607659, lng: 126.959496939999, color: "#ffd93b" },
              { title: "동화아파트 2단지", lat: 37.2184849508447, lng: 126.959407746553, color: "#45d66b" },
              { title: "홍익돈까스 뒷편", lat: 37.219262824765, lng: 126.958364576713, color: "#4da3ff" },
              { title: "동화아파트 4단지", lat: 37.2163259156565, lng: 126.960922667443, color: "#b26bff" }
          ];

          const center = new kakao.maps.LatLng(37.21740, 126.96030); // 중심 위치

          const map = new kakao.maps.Map(document.getElementById('map'), {
              center,
              level: 4
          });

          /* 🔵 커스텀 동그라미 마커 생성 */
          positions.forEach(pos => {
              const content = `
                <div style="
                    width:18px;
                    height:18px;
                    background:${pos.color};
                    border-radius:50%;
                    border:3px solid black;
                    box-shadow:0 0 4px rgba(0,0,0,0.3);
                "></div>
            `;

            new kakao.maps.CustomOverlay({
                map,
                position: new kakao.maps.LatLng(pos.lat, pos.lng),
                content: content,
                yAnchor: 0.5
            });
        });
      }

      /* ---------------------------
          3. 주소 복사 기능
      ---------------------------- */
      document.addEventListener("DOMContentLoaded", () => {
          document.querySelectorAll(".copy-btn").forEach((btn) => {
              btn.addEventListener("click", () => {
                  const text = btn.parentElement.querySelector(".address-text").textContent;

                  navigator.clipboard.writeText(text)
                      .then(() => alert("📌 주소가 복사되었습니다!"))
                      .catch(() => alert("❌ 이번 브라우저에서 복사가 안 돼요."));
              });
          });
      });

      loadKakaoScript();
    </script>

    <script 
        src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=23dbc639690beb853105f72b98c93a4a&autoload=false"
        onload="kakao.maps.load(initMap)">
    </script>
</body>
</html>